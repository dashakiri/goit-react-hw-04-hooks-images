(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{77:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var r,c,a,o,i,s,l,d=n(0),u=n.n(d),b=n(7),p=n.n(b),h=n(14),j=n(6),g=n(15),x=n(3),f=n(4),O=f.a.header(r||(r=Object(x.a)(["\n  width: 100%;\n  height: 50px;\n  background-color: lightgrey;\n"]))),m=f.a.form(c||(c=Object(x.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 15px;\n"]))),v=f.a.input(a||(a=Object(x.a)(["\n  width: 250px;\n  height: 15px;\n"]))),w=f.a.button(o||(o=Object(x.a)(["\n  &:hover,\n  &:focus {\n    background-color: white;\n    cursor: pointer;\n  }\n"]))),y=n(1);function k(e){var t=e.handleSubmittedForm;return Object(y.jsx)(O,{children:Object(y.jsxs)(m,{onSubmit:function(e){e.preventDefault(),t(e.currentTarget.elements.query.value),e.currentTarget.elements.query.value=""},children:[Object(y.jsx)(v,{type:"text",name:"query",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"}),Object(y.jsx)(w,{type:"submit",children:Object(y.jsx)("span",{children:"Search"})})]})})}var S=f.a.ul(i||(i=Object(x.a)(["\n  list-style: none;\n  display: flex;\n  flex-wrap: wrap;\n"]))),L=f.a.li(s||(s=Object(x.a)(["\n  width: 300px;\n  height: 200px;\n  margin: 5px;\n  object-fit: cover;\n\n  &:hover,\n  &:focus {\n    // border: 1px solid lightgrey;\n    cursor: pointer;\n  }\n"])));f.a.img(l||(l=Object(x.a)(["\n  display: inline-block;\n  object-fit: cover;\n"])));function I(e){var t=e.webformatURL,n=e.tags,r=e.handleSelectedImage,c=e.largeImageURL;return Object(y.jsx)(L,{onClick:function(){return r(c,n)},children:Object(y.jsx)("img",{src:t,alt:n,width:"300",height:"200",loading:"lazy"})})}function C(e){var t=e.images,n=e.handleSelectedImage;return Object(y.jsx)(S,{children:t.map((function(e,t){var r=e.webformatURL,c=e.tags,a=e.largeImageURL;return Object(y.jsx)(I,{webformatURL:r,tags:c,largeImageURL:a,handleSelectedImage:n},t)}))})}var R,U,E=n(13),F=n.n(E),q=n(25),T=n(37);function z(){return(z=Object(q.a)(F.a.mark((function e(t,n){var r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"22675606-31d87174acbb5d82d82bc8eb4",e.prev=1,e.next=4,T("https://pixabay.com/api/?key=".concat("22675606-31d87174acbb5d82d82bc8eb4","&q=").concat(t,"&page=").concat(n,"&image_type=photo&orientation=horizontal&per_page=20"));case 4:return r=e.sent,e.abrupt("return",r.data);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var M,B=f.a.div(R||(R=Object(x.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.5);\n"]))),D=f.a.div(U||(U=Object(x.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  height: 600px;\n  width: 960px;\n  padding: 12px;\n  background-color: #fff;\n  border-radius: 3px;\n  box-shadow: 0px 2px 1px -1px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);\n"]))),H=document.querySelector("#modal-root");function J(e){var t=e.largeImageURL,n=e.tags,r=e.onModalClose;Object(d.useEffect)((function(){return window.addEventListener("keydown",c),document.body.style.overflow="hidden",function(){window.addEventListener("keydown",c),document.body.style.overflow="unset"}}));var c=function(e){"Escape"===e.code&&r()};return Object(b.createPortal)(Object(y.jsx)(B,{onClick:function(e){e.currentTarget===e.target&&r()},children:Object(y.jsx)(D,{children:Object(y.jsx)("img",{src:t,alt:n,width:"960",height:"600"})})}),H)}var P=f.a.button(M||(M=Object(x.a)(["\n  margin-left: 550px;\n  padding: 8px 16px;\n  display: inline-block;\n  width: 180px;\n\n  border: 0;\n  border-radius: 2px;\n  background-color: lightgrey;\n\n  color: graphit;\n  text-decoration: none;\n  text-align: center;\n  font-size: 18px;\n  line-height: 24px;\n  font-weight: 500;\n\n  cursor: pointer;\n\n  &:hover,\n  &:focus {\n    border: 1px solid white;\n  }\n"])));function _(e){var t=e.onClick;return Object(y.jsx)(P,{type:"button",onClick:t,children:"Load more"})}n(56);var Q,A=n(26),G=n.n(A),K=f.a.div(Q||(Q=Object(x.a)(["\n  text-align: center;\n"])));function N(){return Object(y.jsx)(K,{children:Object(y.jsx)(G.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})})}function V(){var e=Object(d.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(d.useState)(null),a=Object(j.a)(c,2),o=a[0],i=a[1],s=Object(d.useState)(""),l=Object(j.a)(s,2),u=l[0],b=l[1],p=Object(d.useState)([]),x=Object(j.a)(p,2),f=x[0],O=x[1],m=Object(d.useState)(1),v=Object(j.a)(m,2),w=v[0],S=v[1],L=Object(d.useState)("idle"),I=Object(j.a)(L,2),R=I[0],U=I[1];Object(d.useEffect)((function(){(function(e,t){return z.apply(this,arguments)})(n,w).then((function(e){""!==n.trim()&&(0===e.totalHits&&U("rejected"),1===w&&(O(e.hits),U("resolved")),w>1&&(window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),O((function(t){return[].concat(Object(h.a)(t),Object(h.a)(e.hits))})),U("resolved")))}))}),[n,w]);return Object(y.jsxs)("div",{children:[Object(y.jsx)(k,{handleSubmittedForm:function(e){r(e),O([]),U("pending")}}),"idle"===R&&Object(y.jsx)("p",{children:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441."}),"pending"===R&&Object(y.jsx)(N,{}),"resolved"===R&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(C,{images:f,handleSelectedImage:function(e,t){i(e),b(t)}}),Object(y.jsx)(_,{onClick:function(e){e.preventDefault(),S((function(e){return e+1}))}})]}),"rejected"===R&&g.b.error("\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0441 \u0438\u043c\u0435\u043d\u0435\u043c ".concat(this.props.searchQuery," \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b!")),o&&Object(y.jsx)(J,{onModalClose:function(){i(null)},largeImageURL:o,tags:u}),Object(y.jsx)(g.a,{})]})}n(77),n(78);p.a.render(Object(y.jsx)(u.a.StrictMode,{children:Object(y.jsx)(V,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.8b4ff208.chunk.js.map