{"version":3,"sources":["components/Searchbar/SearchBar.styled.js","components/Searchbar/SearchBar.jsx","components/ImageGalleryItem/ImageGalleryItem.styled.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","services/fetchImages.js","components/Modal/Modal.styled.js","components/Modal/Modal.jsx","components/Button/LoadMoreButton.styled.js","components/Button/Button.jsx","components/Loader/Loader.styled.js","components/Loader/Loader.jsx","components/App.js","index.js"],"names":["Header","styled","header","Form","form","Input","input","Button","button","SearchBar","handleSubmittedForm","onSubmit","e","preventDefault","currentTarget","elements","query","value","type","name","autoComplete","autoFocus","placeholder","GalleryList","ul","ListItem","li","img","ImageGalleryItem","webformatURL","tags","handleSelectedImage","largeImageURL","onClick","src","alt","width","height","loading","ImageGallery","images","map","index","axios","require","searchQuery","page","a","response","data","console","log","ModalBackdrop","div","ModalContent","modalRoot","document","querySelector","Modal","onModalClose","useEffect","window","addEventListener","handleKeydown","body","style","overflow","code","createPortal","target","ButtonLoadMore","LoadMoreButton","LoaderDiv","ContentLoader","color","timeout","App","useState","setSearchQuery","setLargeImageURL","setTags","setImages","setPage","status","setStatus","fetchImages","then","trim","totalHits","hits","scrollTo","top","documentElement","scrollHeight","behavior","prevState","toast","error","this","props","ReactDOM","render","StrictMode","getElementById"],"mappings":"wQAEaA,EAASC,IAAOC,OAAV,6FAMNC,EAAOF,IAAOG,KAAV,4FAMJC,EAAQJ,IAAOK,MAAV,8DAKLC,EAASN,IAAOO,OAAV,8G,OCjBZ,SAASC,EAAT,GAA2C,IAAvBC,EAAsB,EAAtBA,oBAQvB,OACE,cAACV,EAAD,UACE,eAACG,EAAD,CAAMQ,SARc,SAACC,GACzBA,EAAEC,iBACFH,EAAoBE,EAAEE,cAAcC,SAASC,MAAMC,OACnDL,EAAEE,cAAcC,SAASC,MAAMC,MAAQ,IAKnC,UACE,cAACZ,EAAD,CACEa,KAAK,OACLC,KAAK,QACLC,aAAa,MACbC,WAAS,EACTC,YAAY,6BAGd,cAACf,EAAD,CAAQW,KAAK,SAAb,SACE,iDCpBL,IAAMK,EAActB,IAAOuB,GAAV,uFAMXC,EAAWxB,IAAOyB,GAAV,gMAaAzB,IAAO0B,IAAV,4ECnBX,SAASC,EAAT,GAKH,IAJFC,EAIC,EAJDA,aACAC,EAGC,EAHDA,KACAC,EAEC,EAFDA,oBACAC,EACC,EADDA,cAEA,OACE,cAACP,EAAD,CAAUQ,QAAS,kBAAMF,EAAoBC,EAAeF,IAA5D,SACE,qBAAKI,IAAKL,EAAcM,IAAKL,EAAMM,MAAM,MAAMC,OAAO,MAAMC,QAAS,WCP5D,SAASC,EAAT,GAAuD,IAA/BC,EAA8B,EAA9BA,OAAQT,EAAsB,EAAtBA,oBAC7C,OACE,cAACR,EAAD,UACGiB,EAAOC,KAAI,WAAwCC,GAAW,IAAhDb,EAA+C,EAA/CA,aAAcC,EAAiC,EAAjCA,KAAME,EAA2B,EAA3BA,cACjC,OACE,cAACJ,EAAD,CAEEC,aAAcA,EACdC,KAAMA,EACNE,cAAeA,EACfD,oBAAqBA,GAJhBW,Q,iCCTXC,EAAQC,EAAQ,I,4CAEf,WAA2BC,EAAaC,GAAxC,eAAAC,EAAA,4DACO,qCADP,kBAIoBJ,EAAM,gCAAD,OAHlB,qCAGkB,cACeE,EADf,iBACmCC,EADnC,yDAJzB,cAIGE,EAJH,yBAOIA,EAASC,MAPb,gCASHC,QAAQC,IAAR,MATG,0D,sBCAA,I,EAAMC,EAAgBnD,IAAOoD,IAAV,mJASbC,EAAerD,IAAOoD,IAAV,6VCPnBE,EAAYC,SAASC,cAAc,eAE1B,SAASC,EAAT,GAAsD,IAArC1B,EAAoC,EAApCA,cAAeF,EAAqB,EAArBA,KAAM6B,EAAe,EAAfA,aACnDC,qBAAU,WAGR,OAFAC,OAAOC,iBAAiB,UAAWC,GACnCP,SAASQ,KAAKC,MAAMC,SAAW,SACxB,WAAOL,OAAOC,iBAAiB,UAAWC,GACjDP,SAASQ,KAAKC,MAAMC,SAAW,YAIjC,IAAMH,EAAgB,SAACnD,GACN,WAAXA,EAAEuD,MACJR,KAUJ,OAAOS,uBACL,cAAChB,EAAD,CAAenB,QAPW,SAACrB,GACvBA,EAAEE,gBAAkBF,EAAEyD,QACzBV,KAKD,SACE,cAACL,EAAD,UACE,qBACEpB,IAAKF,EACLG,IAAKL,EACLM,MAAM,MACNC,OAAO,YAIbkB,GCpCG,IAAMe,EAAiBrE,IAAOO,OAAV,oZCApB,SAAS+D,EAAT,GAAsC,IAAZtC,EAAW,EAAXA,QAC/B,OACE,cAACqC,EAAD,CAAgBpD,KAAK,SAASe,QAASA,EAAvC,uB,6BCFSuC,EAAYvE,IAAOoD,IAAV,mDCEf,SAASoB,IACd,OACE,cAACD,EAAD,UACG,cAAC,IAAD,CACDtD,KAAK,OACLwD,MAAM,UACNrC,OAAQ,IACRD,MAAO,IACPuC,QAAS,QCHA,SAASC,IACtB,MAAsCC,mBAAS,IAA/C,mBAAOhC,EAAP,KAAoBiC,EAApB,KACA,EAA0CD,mBAAS,MAAnD,mBAAO7C,EAAP,KAAsB+C,EAAtB,KACA,EAAwBF,mBAAS,IAAjC,mBAAO/C,EAAP,KAAakD,EAAb,KACA,EAA4BH,mBAAS,IAArC,mBAAOrC,EAAP,KAAeyC,EAAf,KACA,EAAwBJ,mBAAS,GAAjC,mBAAO/B,EAAP,KAAaoC,EAAb,KACA,EAA4BL,mBAAS,QAArC,mBAAOM,EAAP,KAAeC,EAAf,KAEAxB,qBAAU,YPfL,SAAP,qCOgBIyB,CAAYxC,EAAaC,GAAMwC,MAAK,SAACrC,GACR,KAAvBJ,EAAY0C,SAIO,IAAnBtC,EAAKuC,WACPJ,EAAU,YAGC,IAATtC,IACFmC,EAAUhC,EAAKwC,MACfL,EAAU,aAGRtC,EAAO,IASbe,OAAO6B,SAAS,CACdC,IAAKnC,SAASoC,gBAAgBC,aAC9BC,SAAU,WATRb,GAAU,SAACc,GAAD,4BAAmBA,GAAnB,YAAiC9C,EAAKwC,UAChDL,EAAU,mBAGb,CAACvC,EAAaC,IA6BjB,OACE,gCACE,cAACrC,EAAD,CAAWC,oBAjBU,SAACmC,GACxBiC,EAAejC,GACfoC,EAAU,IACVG,EAAU,cAgBI,SAAXD,GAAqB,sOAEV,YAAXA,GAAwB,cAACV,EAAD,IAEb,aAAXU,GACC,qCACE,cAAC5C,EAAD,CACEC,OAAQA,EACRT,oBArBkB,SAACC,EAAeF,GAC1CiD,EAAiB/C,GACjBgD,EAAQlD,MAqBF,cAACyC,EAAD,CAAgBtC,QAlCO,SAACrB,GAC9BA,EAAEC,iBACFqE,GAAQ,SAACa,GAAD,OAAeA,EAAY,WAoCrB,aAAXZ,GACCa,IAAMC,MAAN,yHAC0BC,KAAKC,MAAMtD,YADrC,8DAIDb,GACC,cAAC0B,EAAD,CACEC,aA7Ba,WACnBoB,EAAiB,OA6BX/C,cAAeA,EACfF,KAAMA,IAIV,cAAC,IAAD,O,YC5FNsE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC1B,EAAD,MAEFpB,SAAS+C,eAAe,W","file":"static/js/main.8b4ff208.chunk.js","sourcesContent":["import styled from \"@emotion/styled\";\n\nexport const Header = styled.header`\n  width: 100%;\n  height: 50px;\n  background-color: lightgrey;\n`;\n\nexport const Form = styled.form`\n  display: flex;\n  justify-content: center;\n  padding: 15px;\n`;\n\nexport const Input = styled.input`\n  width: 250px;\n  height: 15px;\n`;\n\nexport const Button = styled.button`\n  &:hover,\n  &:focus {\n    background-color: white;\n    cursor: pointer;\n  }\n`;\n","import { Header, Form, Input, Button } from \"./SearchBar.styled\";\n\nexport function SearchBar({handleSubmittedForm}) {\n  \n  const handleInputChange = (e) => {\n    e.preventDefault();\n    handleSubmittedForm(e.currentTarget.elements.query.value);\n    e.currentTarget.elements.query.value = \"\";\n  };\n\n    return (\n      <Header>\n        <Form onSubmit={handleInputChange}>\n          <Input\n            type=\"text\"\n            name=\"query\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n\n          <Button type=\"submit\">\n            <span>Search</span>\n          </Button>\n        </Form>\n      </Header>\n    );\n}\n","import styled from \"@emotion/styled\";\n\nexport const GalleryList = styled.ul`\n  list-style: none;\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nexport const ListItem = styled.li`\n  width: 300px;\n  height: 200px;\n  margin: 5px;\n  object-fit: cover;\n\n  &:hover,\n  &:focus {\n    // border: 1px solid lightgrey;\n    cursor: pointer;\n  }\n`;\n\nexport const Image = styled.img`\n  display: inline-block;\n  object-fit: cover;\n`;\n","import { ListItem } from \"./ImageGalleryItem.styled\";\n\nexport function ImageGalleryItem({\n  webformatURL,\n  tags,\n  handleSelectedImage,\n  largeImageURL,\n}) {\n  return (\n    <ListItem onClick={() => handleSelectedImage(largeImageURL, tags)}>\n      <img src={webformatURL} alt={tags} width=\"300\" height=\"200\" loading={'lazy'}/>\n    </ListItem>\n  );\n}\n","import { ImageGalleryItem } from \"../ImageGalleryItem/ImageGalleryItem\";\nimport { GalleryList } from \"../ImageGalleryItem/ImageGalleryItem.styled\";\n\nexport default function ImageGallery ({images, handleSelectedImage}) {\n  return (\n    <GalleryList>\n      {images.map(({ webformatURL, tags, largeImageURL }, index) => {\n        return (\n          <ImageGalleryItem\n            key={index}\n            webformatURL={webformatURL}\n            tags={tags}\n            largeImageURL={largeImageURL}\n            handleSelectedImage={handleSelectedImage}\n          />\n        );\n      })}\n    </GalleryList>\n  )\n}\n","const axios = require(\"axios\");\n\nexport async function fetchImages(searchQuery, page) {\n  const KEY = \"22675606-31d87174acbb5d82d82bc8eb4\";\n\n  try {\n    const response = await axios(\n      `https://pixabay.com/api/?key=${KEY}&q=${searchQuery}&page=${page}&image_type=photo&orientation=horizontal&per_page=20`\n    );\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n","import styled from \"@emotion/styled\";\n\nexport const ModalBackdrop = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.5);\n`;\n\nexport const ModalContent = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  height: 600px;\n  width: 960px;\n  padding: 12px;\n  background-color: #fff;\n  border-radius: 3px;\n  box-shadow: 0px 2px 1px -1px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);\n`;\n","import { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { ModalBackdrop, ModalContent } from \"./Modal.styled\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default function Modal ({largeImageURL, tags, onModalClose}) {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeydown);\n    document.body.style.overflow = \"hidden\";\n    return () => {window.addEventListener(\"keydown\", handleKeydown);\n    document.body.style.overflow = \"unset\";\n  };\n  });\n\n  const handleKeydown = (e) => {\n    if (e.code === \"Escape\") {\n      onModalClose();\n    }\n  };\n\n  const handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n     onModalClose();\n    }\n  };\n  \n  return createPortal(\n    <ModalBackdrop onClick={handleBackdropClick}>\n      <ModalContent>\n        <img\n          src={largeImageURL}\n          alt={tags}\n          width=\"960\"\n          height=\"600\"\n        />\n      </ModalContent>\n    </ModalBackdrop>,\n    modalRoot\n  );\n};\n","import styled from \"@emotion/styled\";\n\nexport const ButtonLoadMore = styled.button`\n  margin-left: 550px;\n  padding: 8px 16px;\n  display: inline-block;\n  width: 180px;\n\n  border: 0;\n  border-radius: 2px;\n  background-color: lightgrey;\n\n  color: graphit;\n  text-decoration: none;\n  text-align: center;\n  font-size: 18px;\n  line-height: 24px;\n  font-weight: 500;\n\n  cursor: pointer;\n\n  &:hover,\n  &:focus {\n    border: 1px solid white;\n  }\n`;\n","import { ButtonLoadMore } from \"./LoadMoreButton.styled\";\n\nexport function LoadMoreButton({ onClick }) {\n  return (\n    <ButtonLoadMore type=\"button\" onClick={onClick}>\n      Load more\n    </ButtonLoadMore>\n  );\n}\n","import styled from \"@emotion/styled\";\n\nexport const LoaderDiv = styled.div`\n  text-align: center;\n`;\n","import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport { LoaderDiv } from \"./Loader.styled\";\n\nexport function ContentLoader() {\n  return (\n    <LoaderDiv>\n       <Loader\n      type=\"Puff\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={3000} //3 secs\n    />\n    </LoaderDiv>   \n  );\n}\n","import { useState, useEffect } from \"react\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport { SearchBar } from \"./Searchbar/SearchBar\";\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\nimport { fetchImages } from \"../services/fetchImages\";\nimport Modal from \"./Modal/Modal\";\nimport { LoadMoreButton } from \"../components/Button/Button\";\nimport { ContentLoader } from \"../components/Loader/Loader\";\n\nexport default function App() {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [largeImageURL, setLargeImageURL] = useState(null);\n  const [tags, setTags] = useState(\"\");\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [status, setStatus] = useState(\"idle\");\n\n  useEffect(() => {\n    fetchImages(searchQuery, page).then((data) => {\n      if (searchQuery.trim() === \"\") {\n        return;\n      }\n\n      if (data.totalHits === 0) {\n        setStatus(\"rejected\");\n      }\n\n      if (page === 1) {\n        setImages(data.hits);\n        setStatus(\"resolved\");\n      }\n\n      if (page > 1) {\n        onScroll();\n        setImages((prevState) => [...prevState, ...data.hits]);\n        setStatus(\"resolved\");\n      }\n    });\n  }, [searchQuery, page]);\n\n  function onScroll() {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }\n\n  const handleLoadMoreBtnClick = (e) => {\n    e.preventDefault();\n    setPage((prevState) => prevState + 1);\n  };\n\n  const handleFormSubmit = (searchQuery) => {\n    setSearchQuery(searchQuery);\n    setImages([]);\n    setStatus(\"pending\");\n  };\n\n  const handleSelectedImage = (largeImageURL, tags) => {\n    setLargeImageURL(largeImageURL);\n    setTags(tags);\n  };\n\n  const onModalClose = () => {\n    setLargeImageURL(null);\n  };\n\n  return (\n    <div>\n      <SearchBar handleSubmittedForm={handleFormSubmit} />\n\n      {status === \"idle\" && <p>Пожалуйста, введите поисковый запрос.</p>}\n\n      {status === \"pending\" && <ContentLoader />}\n\n      {status === \"resolved\" && (\n        <>\n          <ImageGallery\n            images={images}\n            handleSelectedImage={handleSelectedImage}\n          />\n          <LoadMoreButton onClick={handleLoadMoreBtnClick} />\n        </>\n      )}\n\n      {status === \"rejected\" &&\n        toast.error(\n          `Изображения с именем ${this.props.searchQuery} не найдены!`\n        )}\n\n      {largeImageURL && (\n        <Modal\n          onModalClose={onModalClose}\n          largeImageURL={largeImageURL}\n          tags={tags}\n        />\n      )}\n\n      <ToastContainer />\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"./index.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}