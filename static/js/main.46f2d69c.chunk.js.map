{"version":3,"sources":["components/Searchbar/SearchBar.styled.js","components/Searchbar/SearchBar.jsx","components/ImageGalleryItem/ImageGalleryItem.styled.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","services/fetchImages.js","components/Modal/Modal.styled.js","components/Modal/Modal.jsx","components/Button/LoadMoreButton.styled.js","components/Button/Button.jsx","components/Loader/Loader.styled.js","components/Loader/Loader.jsx","components/App.js","index.js"],"names":["Header","styled","header","Form","form","Input","input","Button","button","SearchBar","handleSubmittedForm","onSubmit","e","preventDefault","currentTarget","elements","query","value","type","name","autoComplete","autoFocus","placeholder","GalleryList","ul","ListItem","li","img","ImageGalleryItem","webformatURL","tags","handleSelectedImage","largeImageURL","onClick","src","alt","width","height","loading","ImageGallery","images","map","index","axios","require","searchQuery","page","a","data","console","log","error","defaults","baseURL","params","key","image_type","orientation","per_page","ModalBackdrop","div","ModalContent","modalRoot","document","querySelector","Modal","onModalClose","useEffect","window","addEventListener","handleKeydown","body","style","overflow","removeEventListener","code","createPortal","target","ButtonLoadMore","LoadMoreButton","LoaderDiv","ContentLoader","color","timeout","App","useState","setSearchQuery","setLargeImageURL","setTags","setImages","setPage","status","setStatus","fetchImages","then","totalHits","hits","trim","prevState","onScroll","scrollTo","top","documentElement","scrollHeight","behavior","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.46f2d69c.chunk.js","sourcesContent":["import styled from \"@emotion/styled\";\r\n\r\nexport const Header = styled.header`\r\n  width: 100%;\r\n  height: 50px;\r\n  background-color: lightgrey;\r\n`;\r\n\r\nexport const Form = styled.form`\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 15px;\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  width: 250px;\r\n  height: 15px;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  &:hover,\r\n  &:focus {\r\n    background-color: white;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n","import { Header, Form, Input, Button } from \"./SearchBar.styled\";\r\n\r\nexport function SearchBar({handleSubmittedForm}) {\r\n  \r\n  const handleInputChange = (e) => {\r\n    e.preventDefault();\r\n    handleSubmittedForm(e.currentTarget.elements.query.value);\r\n    e.currentTarget.elements.query.value = \"\";\r\n  };\r\n\r\n    return (\r\n      <Header>\r\n        <Form onSubmit={handleInputChange}>\r\n          <Input\r\n            type=\"text\"\r\n            name=\"query\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n\r\n          <Button type=\"submit\">\r\n            <span>Search</span>\r\n          </Button>\r\n        </Form>\r\n      </Header>\r\n    );\r\n}\r\n","import styled from \"@emotion/styled\";\r\n\r\nexport const GalleryList = styled.ul`\r\n  list-style: none;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nexport const ListItem = styled.li`\r\n  width: 300px;\r\n  height: 200px;\r\n  margin: 5px;\r\n  object-fit: cover;\r\n\r\n  &:hover,\r\n  &:focus {\r\n    // border: 1px solid lightgrey;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport const Image = styled.img`\r\n  display: inline-block;\r\n  object-fit: cover;\r\n`;\r\n","import { ListItem } from \"./ImageGalleryItem.styled\";\r\n\r\nexport function ImageGalleryItem({\r\n  webformatURL,\r\n  tags,\r\n  handleSelectedImage,\r\n  largeImageURL,\r\n}) {\r\n  return (\r\n    <ListItem onClick={() => handleSelectedImage(largeImageURL, tags)}>\r\n      <img src={webformatURL} alt={tags} width=\"300\" height=\"200\" loading={'lazy'}/>\r\n    </ListItem>\r\n  );\r\n}\r\n","import { ImageGalleryItem } from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport { GalleryList } from \"../ImageGalleryItem/ImageGalleryItem.styled\";\r\n\r\nexport default function ImageGallery ({images, handleSelectedImage}) {\r\n  return (\r\n    <GalleryList>\r\n      {images.map(({ webformatURL, tags, largeImageURL }, index) => {\r\n        return (\r\n          <ImageGalleryItem\r\n            key={index}\r\n            webformatURL={webformatURL}\r\n            tags={tags}\r\n            largeImageURL={largeImageURL}\r\n            handleSelectedImage={handleSelectedImage}\r\n          />\r\n        );\r\n      })}\r\n    </GalleryList>\r\n  )\r\n}\r\n","const axios = require(\"axios\");\n\naxios.defaults.baseURL = \"https://pixabay.com\";\naxios.defaults.params = {\n  key: \"22675606-31d87174acbb5d82d82bc8eb4\",\n  image_type: \"photo\",\n  orientation: \"horizontal\",\n  per_page: 20,\n};\n\nexport async function fetchImages(searchQuery, page) {\n  try {\n    const { data } = await axios(`/api/?q=${searchQuery}&page=${page}`);\n    console.log(data);\n    return data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n","import styled from \"@emotion/styled\";\r\n\r\nexport const ModalBackdrop = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n`;\r\n\r\nexport const ModalContent = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  height: 600px;\r\n  width: 960px;\r\n  padding: 12px;\r\n  background-color: #fff;\r\n  border-radius: 3px;\r\n  box-shadow: 0px 2px 1px -1px rgba(0, 0, 0, 0.2),\r\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);\r\n`;\r\n","import { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { ModalBackdrop, ModalContent } from \"./Modal.styled\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default function Modal({ largeImageURL, tags, onModalClose }) {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeydown);\n    document.body.style.overflow = \"hidden\";\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeydown);\n      document.body.style.overflow = \"unset\";\n    };\n  });\n\n  const handleKeydown = (e) => {\n    if (e.code === \"Escape\") {\n      onModalClose();\n    }\n  };\n\n  const handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      onModalClose();\n    }\n  };\n\n  return createPortal(\n    <ModalBackdrop onClick={handleBackdropClick}>\n      <ModalContent>\n        <img src={largeImageURL} alt={tags} width=\"960\" height=\"600\" />\n      </ModalContent>\n    </ModalBackdrop>,\n    modalRoot\n  );\n}\n","import styled from \"@emotion/styled\";\r\n\r\nexport const ButtonLoadMore = styled.button`\r\n  margin-left: 550px;\r\n  padding: 8px 16px;\r\n  display: inline-block;\r\n  width: 180px;\r\n\r\n  border: 0;\r\n  border-radius: 2px;\r\n  background-color: lightgrey;\r\n\r\n  color: graphit;\r\n  text-decoration: none;\r\n  text-align: center;\r\n  font-size: 18px;\r\n  line-height: 24px;\r\n  font-weight: 500;\r\n\r\n  cursor: pointer;\r\n\r\n  &:hover,\r\n  &:focus {\r\n    border: 1px solid white;\r\n  }\r\n`;\r\n","import { ButtonLoadMore } from \"./LoadMoreButton.styled\";\r\n\r\nexport function LoadMoreButton({ onClick }) {\r\n  return (\r\n    <ButtonLoadMore type=\"button\" onClick={onClick}>\r\n      Load more\r\n    </ButtonLoadMore>\r\n  );\r\n}\r\n","import styled from \"@emotion/styled\";\r\n\r\nexport const LoaderDiv = styled.div`\r\n  text-align: center;\r\n`;\r\n","import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { LoaderDiv } from \"./Loader.styled\";\r\n\r\nexport function ContentLoader() {\r\n  return (\r\n    <LoaderDiv>\r\n       <Loader\r\n      type=\"Puff\"\r\n      color=\"#00BFFF\"\r\n      height={100}\r\n      width={100}\r\n      timeout={3000} //3 secs\r\n    />\r\n    </LoaderDiv>   \r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\nimport { SearchBar } from \"./Searchbar/SearchBar\";\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\nimport { fetchImages } from \"../services/fetchImages\";\nimport Modal from \"./Modal/Modal\";\nimport { LoadMoreButton } from \"../components/Button/Button\";\nimport { ContentLoader } from \"../components/Loader/Loader\";\n\nexport default function App() {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [largeImageURL, setLargeImageURL] = useState(null);\n  const [tags, setTags] = useState(\"\");\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [status, setStatus] = useState(\"idle\");\n\n  useEffect(() => {\n    fetchImages(searchQuery, page).then(({ totalHits, hits }) => {\n      if (searchQuery.trim() === \"\") {\n        return;\n      }\n\n      if (totalHits === 0) {\n        setStatus(\"rejected\");\n        return;\n      }\n\n      if (page === 1) {\n        setImages(hits);\n        setStatus(\"resolved\");\n      }\n\n      if (page > 1) {\n        setImages((prevState) => [...prevState, ...hits]);\n        setStatus(\"resolved\");\n        onScroll();\n      }\n    });\n  }, [searchQuery, page]);\n\n  const onScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  const handleLoadMoreBtnClick = (e) => {\n    e.preventDefault();\n    setPage((prevState) => prevState + 1);\n  };\n\n  const handleFormSubmit = (searchQuery) => {\n    setSearchQuery(searchQuery);\n    setImages([]);\n    setStatus(\"pending\");\n  };\n\n  const handleSelectedImage = (largeImageURL, tags) => {\n    setLargeImageURL(largeImageURL);\n    setTags(tags);\n  };\n\n  const onModalClose = () => {\n    setLargeImageURL(null);\n  };\n\n  return (\n    <div>\n      <SearchBar handleSubmittedForm={handleFormSubmit} />\n\n      {status === \"idle\" && <p>Пожалуйста, введите поисковый запрос.</p>}\n\n      {status === \"pending\" && <ContentLoader />}\n\n      {status === \"resolved\" && (\n        <div>\n          <ImageGallery\n            images={images}\n            handleSelectedImage={handleSelectedImage}\n          />\n          <LoadMoreButton onClick={handleLoadMoreBtnClick} />\n        </div>\n      )}\n\n      {status === \"rejected\" && (\n        <p>Изображения с именем {searchQuery} не найдены!</p>\n      )}\n\n      {largeImageURL && (\n        <Modal\n          onModalClose={onModalClose}\n          largeImageURL={largeImageURL}\n          tags={tags}\n        />\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}